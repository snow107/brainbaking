<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Brain Baking</title>
    <link>http://www.brainbaking.com/index.xml</link>
    <description>Recent content on Brain Baking</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>wouter.groeneveld@gmail.com (Wouter Groeneveld)</managingEditor>
    <webMaster>wouter.groeneveld@gmail.com (Wouter Groeneveld)</webMaster>
    <lastBuildDate>Tue, 30 May 2017 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://www.brainbaking.com/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Are you handing over enough when inspiring someone?</title>
      <link>http://www.brainbaking.com/post/handing-over-enough-when-inspiring/</link>
      <pubDate>Tue, 30 May 2017 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/post/handing-over-enough-when-inspiring/</guid>
      <description>&lt;p&gt;The other day, I was having a discussion with a friend and colleague about reaching out to others. He had an idea on combining patterns learned from the enterprise software development world (clean code, TDD, domain driven design, you name it) with patterns learned from the gaming development world (rapid prototyping, getting stuff done, intensive usage of frameworks like Unity). An excellent idea if you ask me. But he was hesitant - others might not be that interested in taking time to write unit tests in their game.&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s called an assumption. So I proposed to write small blog posts in &lt;a href=&#34;https://gohugo.io/&#34;&gt;hugo&lt;/a&gt; using Markdown and GitHub pages. Very lightweight, only one command away from generating concise entries. This might take 10 minutes of your time per week.
So he nodded. &amp;ldquo;Hm-hmm&amp;rdquo;. And we started talking about something else.&lt;/p&gt;

&lt;p&gt;At that point I had two choices:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Interrupt the conversation and push further.&lt;/li&gt;
&lt;li&gt;Ignore it for now and take a mental note do do something with it later.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Often enough I&amp;rsquo;ve hit a brick wall with option one. It&amp;rsquo;s annoying for the other person to constantly be interrupted and I wouldn&amp;rsquo;t make myself very popular. I do have that nasty habit and I&amp;rsquo;m working on that.
But let&amp;rsquo;s return to option two for now.&lt;/p&gt;

&lt;p&gt;I forgot about the discussion and moved on.
But taking mental notes is like async AJAX calls: they do return, but you don&amp;rsquo;t know when. That&amp;rsquo;s when it hit me: why don&amp;rsquo;t I email him some details on how to quickly start a blog? Would that be appropriate or not? In any case he&amp;rsquo;s free to delete the email - no harm done. But if he decides to do something with it, all the better. The step from no blog and no experience in Hugo is smaller when a friendly push in the right direction has been given.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://www.brainbaking.com/img/sharing.png&#34; alt=&#34;giving&#34; /&gt;&lt;/p&gt;

&lt;p&gt;One could say &amp;ldquo;what have you to gain? Why do you care?&amp;rdquo; And I don&amp;rsquo;t - I&amp;rsquo;m not a game developer, but I do care - a bit - about the subject. I do care - a lot - about my friend and his personal growth. &lt;a href=&#34;http://www.brainbaking.com/post/teaching-kids-how-to-program/&#34;&gt;Show your work&lt;/a&gt;, remember?
I love to inspire others on things that I&amp;rsquo;m passionate about myself. And sharing is caring. I would love to receive an email with loose ends like this from someone I talked to.&lt;/p&gt;

&lt;p&gt;So my decision to throw some info over the wall has been made. I&amp;rsquo;m eager to find out if the seed has been planted and nurtured. We&amp;rsquo;ll have to see. I will not be disappointed if it has not - giving and expecting something in return is not giving. I love giving. Altruism must have originated from the egocentric self, some believe. I would not count myself to be part of that group.
The Japanese encounter a lot of stress if they are given a gift: it has to be matched in value to give something back which has the same value: not less (shame) or more. It&amp;rsquo;s like trying to buy presents for your family at Christmas: a sometimes horrifying experience. You do not know the value of the gift you&amp;rsquo;ll be given and you&amp;rsquo;ll have to guess how much to spend to give.&lt;/p&gt;

&lt;p&gt;Of course, handing out information - which should be free in the first place - is not the same as handing out something physical.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.rd.com/true-stories/inspiring/5-stories-that-celebrate-the-spirit-of-giving/&#34;&gt;True giving&lt;/a&gt; is expecting nothing in return.
&lt;a href=&#34;https://www.themindfulword.org/2014/joy-of-giving/&#34;&gt;True giving&lt;/a&gt; is wanting nothing in return!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to teach kids to program</title>
      <link>http://www.brainbaking.com/post/teaching-kids-how-to-program/</link>
      <pubDate>Thu, 25 May 2017 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/post/teaching-kids-how-to-program/</guid>
      <description>

&lt;p&gt;Jessica Ellis gave a lot of great tips on how to teach kids to program at &lt;a href=&#34;https://techorama2017.sched.com/event/9M8g/the-skills-gap-how-to-inspire-our-kids-to-study-computer-science?iframe=no&amp;amp;w=100%&amp;amp;sidebar=yes&amp;amp;bg=no&#34;&gt;Techorama 2017&lt;/a&gt; in Antwerp. She has ben an active teacher in the &lt;a href=&#34;http://tkplabs.org&#34;&gt;tkplabs.org&lt;/a&gt; society and introduced something clever called &amp;ldquo;barbecoding&amp;rdquo;. In an attempt to create an appealing programming camp for boys and girls, she successfully combined food and science. She shared her story in an hour and I did my best to extract the most important principles as I thought it might be a great idea to apply that to our team in my daily work as a software developer.&lt;/p&gt;

&lt;p&gt;Why would those principles only apply to kids?&lt;/p&gt;

&lt;h3 id=&#34;1-do-hard-things-and-have-food&#34;&gt;1. Do Hard Things (and have food)&lt;/h3&gt;

&lt;p&gt;Don&amp;rsquo;t treat people as you categorize them. Do hard things, even if you think they are not capable of doing something like that. Don&amp;rsquo;t label them as &amp;ldquo;smart&amp;rdquo; - the brain will become wired for failure and they&amp;rsquo;ll be scared to make mistakes.
The food part is especially interesting as I&amp;rsquo;ve read in some management book years ago one concept called &lt;strong&gt;&amp;ldquo;do food&amp;rdquo;&lt;/strong&gt;. Bring (home made) food to a meeting - it immediately breaks all ice, effectively. Since then, I constantly rely on homemade cakecups to ease other&amp;rsquo;s minds. It really does work and it&amp;rsquo;s a lot of fun to make.&lt;/p&gt;

&lt;h3 id=&#34;2-work-in-a-group-failing-in-a-group-failing-alone&#34;&gt;2 Work in a group (failing in a group &amp;gt; failing alone)&lt;/h3&gt;

&lt;p&gt;Pairing and mob programming can be done with kids and enables them to learn faster (from each other instead of only from the teacher or themselves). It&amp;rsquo;s also less bad to try and fail: at least you&amp;rsquo;ve failed together then.
I successfully used mob programming as a teaching instrument at work. It makes the problem less daunting for someone who isn&amp;rsquo;t eager to speak for a group.&lt;/p&gt;

&lt;h3 id=&#34;3-be-surprised-laugh-a-lot&#34;&gt;3 Be Surprised (laugh a lot)&lt;/h3&gt;

&lt;p&gt;Life is full of surprises. Be genuine.
Stop taking everythig seriously. Something I love to do: inspire others to laugh more - at themselves, at me, at the situation we&amp;rsquo;re in. And then get to work.&lt;/p&gt;

&lt;h3 id=&#34;4-feel-powerful-never-say-you-can-t-do-anything&#34;&gt;4. Feel Powerful (never say you can&amp;rsquo;t do anything)&lt;/h3&gt;

&lt;p&gt;This is extremely difficult for grownups and I still can&amp;rsquo;t wrap my head around the why. &amp;ldquo;Oh but I can&amp;rsquo;t do it as good as you&amp;rdquo; or &amp;ldquo;you are the expert, I wouldn&amp;rsquo;t be able to do such a thing&amp;rdquo; or &amp;ldquo;no, I can&amp;rsquo;t do that, I&amp;rsquo;m not smart enough&amp;rdquo; are sentences I hear on the workfloor every single day. And that&amp;rsquo;s very very saddening because I&amp;rsquo;m not smarter than anyone else - in fact, I&amp;rsquo;m convinced I know less than they do - I just manage to get away with it.&lt;/p&gt;

&lt;p&gt;Recognizing talent and mentoring them to become teachers themselves is something I have to do more often - that means less work for me.&lt;/p&gt;

&lt;h3 id=&#34;5-show-your-work&#34;&gt;5. Show Your Work&lt;/h3&gt;

&lt;p&gt;Reminded me of Austin Kleon&amp;rsquo;s &lt;a href=&#34;http://austinkleon.com/show-your-work/&#34;&gt;show your work&lt;/a&gt; - a lovely book that inspires to put stuff out there, like this very blog or my &amp;ldquo;bad&amp;rdquo; drawings. I love to show my work, but grownups tend to think someone shows their work because he or she wants everyone to know how great they are.
Maybe. But foremost, they might want feedback. And get better. And that means, they need your help. So stop that train of negative thinking and start helping. Stop saying &amp;ldquo;my work is redundant, it&amp;rsquo;s nothing, it&amp;rsquo;s not showable, nobody would like it&amp;rdquo; and start putting stuff out there.&lt;/p&gt;

&lt;h3 id=&#34;6-unplug-learn-without-a-computer&#34;&gt;6. Unplug &amp;amp; learn without a computer&lt;/h3&gt;

&lt;p&gt;Computational thinking can also be learned with the help of post-its, some yarn, a thread and some markers. Your cognitive process picks up things a lot faster if your body is &lt;strong&gt;doing stuff&lt;/strong&gt; instead of yawning at a computer screen. Get up and move. Pair more strictly: set a timer and require everyone to physically move.&lt;/p&gt;

&lt;p&gt;It was very inspiring to see what Jessica and her team of teachers (15 year olds by the way!) managed to do. I know I&amp;rsquo;ll be trying to incorporate the rules stated above in my daily work, even if I&amp;rsquo;m not directly working with kids.&lt;/p&gt;

&lt;p&gt;Or maybe I am&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Drawing week 04 - Using the brain</title>
      <link>http://www.brainbaking.com/post/drawing-week-04/</link>
      <pubDate>Tue, 09 May 2017 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/post/drawing-week-04/</guid>
      <description>&lt;p&gt;Also read &lt;a href=&#34;http://www.brainbaking.com/post/teaching-yourself-to-draw/&#34;&gt;Teaching yourself to draw&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As I&amp;rsquo;m slowly getting a tiny bit better at drawing things I see, I still don&amp;rsquo;t have a fundamental basis to rely on. Until I&amp;rsquo;ve read &amp;ldquo;&lt;a href=&#34;http://drawright.com/&#34;&gt;Drawing at the right side of the brian&lt;/a&gt;&amp;rdquo; from Betty Edwards. Everything I&amp;rsquo;ve read in there came as a complete revelation to me. She explains how you should &amp;ldquo;look&amp;rdquo; at things, what is important to look out for when realisticly drawing and how values/tones work. It&amp;rsquo;s an amazing book and I&amp;rsquo;m very glad I&amp;rsquo;ve added it to my toread list (a few years ago, I finally got around to actually reading it.)&lt;/p&gt;

&lt;p&gt;Can you spot the difference between the portraits below?&lt;/p&gt;

&lt;p&gt;&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749447642788/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749447642793/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;Yes, I am well aware that the second portrait still looks like crap but come on, at least it shows highlights, it has a decent contour and my skull isn&amp;rsquo;t &amp;ldquo;chopped off&amp;rdquo;. Both drawings took me 45 minutes. I&amp;rsquo;d say that&amp;rsquo;s a definitive improvement here.&lt;/p&gt;

&lt;p&gt;Other exercises in the books concentrate on hands, interiour, chairs, &amp;hellip;:&lt;/p&gt;

&lt;p&gt;&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749447642796/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749447642801/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;Everything is done with a pencil. My preference is starting to lean towards 2B and 4B instead of HB.&lt;/p&gt;

&lt;p&gt;So, what did I learn this week: (these are some quick oneliners that summarize each important chapter in the book)&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Draw (shared) edges of stuff: call them contours.&lt;/li&gt;
&lt;li&gt;Draw spaces between stuff: call it negative space.&lt;/li&gt;
&lt;li&gt;Draw relationships between stuff: call them angles and proportions.&lt;/li&gt;
&lt;li&gt;Draw lights and shadows on stuff: call them tonal differences.&lt;/li&gt;
&lt;li&gt;Do not draw the appearance of stuff: call it &amp;ldquo;the gestalt&amp;rdquo;.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The last point is an interesting one. It&amp;rsquo;s also called &amp;ldquo;making it come together&amp;rdquo; and is usually achieved by simply focusing on the other 4 points.&lt;/p&gt;

&lt;p&gt;Doing these exercises gave me a real boost in confidence and motivated me to draw even more. I even started enjoying the use of a pencil - soft shading is nice and not doable with a pen!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Drawing week 03 - Fineliners and texture</title>
      <link>http://www.brainbaking.com/post/drawing-week-03/</link>
      <pubDate>Sun, 12 Mar 2017 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/post/drawing-week-03/</guid>
      <description>&lt;p&gt;Also read &lt;a href=&#34;http://www.brainbaking.com/post/teaching-yourself-to-draw/&#34;&gt;Teaching yourself to draw&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I wanted to continue my quest of finding my own style within ink and watercolor boundaries. After the amazing discovery of &lt;a href=&#34;https://www.skillshare.com&#34;&gt;Skillshare.com&lt;/a&gt;, I switched to using Artline fineliners. I also have some Steadlers but hardly notice any difference between different felt tip pens if they have the same thickness. I found a short course by Shirish Deshpande on drawing with ink and creating some contrast and texture. The drawings in the videos are amazing and I tried to copy them to my best abilities:&lt;/p&gt;

&lt;p&gt;&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749443973054/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749443973073/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749443973094/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;The ink flowing from a technical pen is much more intense than a standard ballpoint pen as seen in &lt;a href=&#34;http://www.brainbaking.com/post/drawing-week-02&#34;&gt;week 2&lt;/a&gt;. I like that a lot. It also enables me to be much more precise and that is something that I tend to do a lot. I usually draw (too) small and try to cram in as much details as possible. The thinner the felt tip pen, the better for me. (Although I borked a 005 one, those guys are very sensitive!).&lt;/p&gt;

&lt;p&gt;During the snow &amp;amp; rose course, the lesson with the fineliners suited me the most, and now I have that same feeling. I finally give (cross-)hatching a shot and it really looks a lot better. Thanks Shirish, for building up my confidence in drawing with ink!&lt;/p&gt;

&lt;p&gt;So, what did I learn this week:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Intensity of ink matters.&lt;/li&gt;
&lt;li&gt;Contrast is extermely important and gives your drawing an &amp;ldquo;oomph&amp;rdquo;&lt;/li&gt;
&lt;li&gt;I learned the &amp;ldquo;hatching&amp;rdquo;, &amp;ldquo;stipling&amp;rdquo;, and &amp;ldquo;random&amp;rdquo; technique.&lt;/li&gt;
&lt;li&gt;Fineliners &amp;gt; ballpoint pens &amp;gt; pencils (sensing a trend here, fountain pen coming up)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Let&amp;rsquo;s take a look at what Shirish does with his pens (and added colored ink):&lt;/p&gt;

&lt;p&gt;&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/394698354817739793/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/364299057333088725/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;He usually doesn&amp;rsquo;t color with watercolor but with (diluted) colored ink. I have yet to try that.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Drawing week 02 - Art before breakfast</title>
      <link>http://www.brainbaking.com/post/drawing-week-02/</link>
      <pubDate>Tue, 07 Mar 2017 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/post/drawing-week-02/</guid>
      <description>&lt;p&gt;Also read &lt;a href=&#34;http://www.brainbaking.com/post/teaching-yourself-to-draw/&#34;&gt;Teaching yourself to draw&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;After the illustration course, I&amp;rsquo;m not ashamed to admit I completely dropped the pencil out of the game. It creates lines easy to remove and that means I&amp;rsquo;m working on a drawing forever. I need something to commit myself to. That something is called ink.&lt;/p&gt;

&lt;p&gt;It also seems that I already have stuff to get ink on a paper: pens. Ballpoint pens. Black, blue, whatever. Just simple pens you use to write with - the cheaper, the better. I came across &lt;strong&gt;Danny Gregory&lt;/strong&gt;&amp;rsquo;s work &lt;a href=&#34;https://dannygregorysblog.com/books/art-before-breakfast/&#34;&gt;Art before breakfast&lt;/a&gt; and &lt;a href=&#34;http://www.dannygregory.com/author&#34;&gt;The Creative Licence&lt;/a&gt; (buy the latter one if you can). These are very inspirational books that get you kickstarted drawing from zero by learning how to see, explaning negative space and other simple techniques. It doesn&amp;rsquo;t go into detail, it simply helps you get drawing.&lt;/p&gt;

&lt;p&gt;And Danny is a fan of ink + watercolor. I immediately fell in love and knew that was what I wanted. So yes, put that pencil back where it belongs. I started trying to draw what I see:&lt;/p&gt;

&lt;p&gt;&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749443972993/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749443973015/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749443973029/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;It looks a lot brighter than &lt;a href=&#34;http://www.brainbaking.com/post/drawing-week-01&#34;&gt;week 1&lt;/a&gt;. After drawing with a pen a few times, it felt better and better. I tried to copy Danny&amp;rsquo;s style a bit by giving it some (water)color but that might be too much new stuff within a few weeks.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m particulary fond of the yellow post-it note: an impression of my left foot while waiting for my wife to finish shopping. I keep pen &amp;amp; paper with me at all times: that&amp;rsquo;s a healthy habit I developed 7 years ago when starting journaling.
The first foot trace was a complete disaster by the way.&lt;/p&gt;

&lt;p&gt;So, what did I learn this week:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Pen &amp;gt; pencil.&lt;/li&gt;
&lt;li&gt;Danny Gregory rocks. He has tons of books and is co-founder of the &lt;a href=&#34;http://sketchbookskool.com/&#34;&gt;Sketchbook Skool&lt;/a&gt;. Once I knew that, I enrolled in the &amp;ldquo;beginning&amp;rdquo; kourse.&lt;/li&gt;
&lt;li&gt;I like sketching more than doodling.&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Seeing&amp;rdquo; is incredibly hard: I constantly mess up proportions.&lt;/li&gt;
&lt;li&gt;Adding watercolor seems to add a lot of dimension.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Let&amp;rsquo;s take a look at what Danny does:&lt;/p&gt;

&lt;p&gt;&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/381609768399365667/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/233976143118067754/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;Awesome.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Drawing week 01 - pencil illustrations</title>
      <link>http://www.brainbaking.com/post/drawing-week-01/</link>
      <pubDate>Wed, 01 Mar 2017 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/post/drawing-week-01/</guid>
      <description>&lt;p&gt;Also read &lt;a href=&#34;http://www.brainbaking.com/post/teaching-yourself-to-draw/&#34;&gt;Teaching yourself to draw&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As you might already have read, I started the drawing adventure with a 10-week &amp;lsquo;illustrative techniques&amp;rsquo; course. It sounds complicated but it wasn&amp;rsquo;t really: it&amp;rsquo;s more of a gentle introduction in different mediums (pencil, ink, acrylic paint, &amp;hellip;) than a crash course in drawing techniques. I didn&amp;rsquo;t know then that to draw illustrations, you still have to be able to draw. (I&amp;rsquo;m reading &amp;ldquo;drawing at the right side of the brain&amp;rdquo; and I know better now). But still, thse drawings might be fun to look at or to compare to the other weeks.&lt;/p&gt;

&lt;p&gt;&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749443972926/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749443972958/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749443972977/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;These are all random drawings I did between the lessons to get myself familiar with a pencil. That sounds awful, doesn&amp;rsquo;t it? Who uses pencils anyway. The left scan contains some color: that&amp;rsquo;s an experiment. The brown is &lt;strong&gt;bistre&lt;/strong&gt;, something we had to work with in the second class. The other colors are very cheap &lt;strong&gt;pastels&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;So, what did I learn this week:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Bistre can be a bit of a mess. You absolutely cannot wait, edges will form and it&amp;rsquo;ll be worse than watercolor.&lt;/li&gt;
&lt;li&gt;Expensive tools &lt;strong&gt;are&lt;/strong&gt; better than cheap ones. Pastels are softer and contain a lot more pigment than the ones you can find in sale bins.&lt;/li&gt;
&lt;li&gt;I know the difference between a &lt;strong&gt;HB&lt;/strong&gt; and a &lt;strong&gt;B4&lt;/strong&gt; pencil. I know how to sharpen one. Yay.&lt;/li&gt;
&lt;li&gt;These drawings look like doodles because they are a lot like doodles. I like drawing that but I have the feeling I&amp;rsquo;m missing a lot background info (will be continued&amp;hellip;)&lt;/li&gt;
&lt;li&gt;Patience looks like an important skill to aid me in learning how to draw.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Do not look at the work of others!&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;I warned you:&lt;/p&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/568720259163636687/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;


&lt;p&gt;This also is bistre.
Ouch.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Teaching yourself to draw</title>
      <link>http://www.brainbaking.com/post/teaching-yourself-to-draw/</link>
      <pubDate>Wed, 01 Feb 2017 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/post/teaching-yourself-to-draw/</guid>
      <description>

&lt;p&gt;Inspired by Noah Bradley&amp;rsquo;s &lt;a href=&#34;https://medium.com/i-m-h-o/dont-go-to-art-school-138c5efd45e9#.aul09q3wr&#34;&gt;Don&amp;rsquo;t go to art school&lt;/a&gt; blog at Medium.com.&lt;/p&gt;

&lt;p&gt;Drawing and art in general has always been something I didn&amp;rsquo;t quite grasp or try to understand. I was a software development guy, a technical guy, used to writing code, looking at text, spending days and years in text editors others call IDE&amp;rsquo;s. Software development and art aren&amp;rsquo;t that different actually: they both require an open mindset and an extreme creative approach at solving problems. That&amp;rsquo;s one of the reasons I became interested in drawing.
Another is to get some color into my journals. I&amp;rsquo;ve been journaling for about 7 years now and it&amp;rsquo;s been my most important tool in life. It helps me understand myself, collect and execute ideas and to keep the chaos in the world and my mind contained. Writing pages isn&amp;rsquo;t a problem, doodling either, but the page never really pops. Sketching is something I like to do now and then but after hearing things like &amp;ldquo;you can&amp;rsquo;t draw at all!&amp;rdquo; my motivation completely disappears.&lt;/p&gt;

&lt;h3 id=&#34;how-to-really-master-a-skill-http-www-makeuseof-com-tag-10000-hour-rule-wrong-really-master-skill&#34;&gt;&lt;a href=&#34;http://www.makeuseof.com/tag/10000-hour-rule-wrong-really-master-skill/&#34;&gt;How to really master a skill&lt;/a&gt;?&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Deliberate practice&lt;/li&gt;
&lt;li&gt;Getting down the pyramid chain: &lt;br/&gt;teaching &amp;gt; practicing &amp;gt; group discussion &amp;gt; reading &amp;gt; lecture&lt;/li&gt;
&lt;li&gt;&amp;ldquo;10.000 hours&amp;rdquo; (it&amp;rsquo;s an average, I know)&lt;/li&gt;
&lt;li&gt;Quantify yourself by using a &lt;strong&gt;feedback loop&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;my-feedback-loop-is-this-very-blog&#34;&gt;My Feedback loop is this very blog.&lt;/h3&gt;

&lt;p&gt;It should be that simple. I intent to learn to draw within a year, without enrolling in a traditional school. To be successful, I will turn to books, online courses, experts in art by visiting expo&amp;rsquo;s/museums, experts in art by going to short term workshops, and above all: by lot&amp;rsquo;s of practicing. Noah states that $10k could be spent wisely within one year. I have no idea how much it will cost me but my intention is to keep it as low as possible.&lt;/p&gt;

&lt;p&gt;Each learning &amp;lsquo;session&amp;rsquo; will be another blog post. I have a general idea on what I like (ink, watercolor, anything physical, journals) and what I don&amp;rsquo;t like (acrylic paint, anything digital) but since there is so much I don&amp;rsquo;t know, this might change during the course of the coming year. Since Pinterest is so inspiring I&amp;rsquo;d like to upload as much of the artwork as possible. Sharing via pins makes it easier for people to try it themselves.&lt;/p&gt;

&lt;p&gt;Take a look at my Pinterest profile by clicking on the icon on the bottom of the page.
If you&amp;rsquo;re looking for all blog posts about learning to draw, check out the &lt;strong&gt;&amp;lsquo;&lt;a href=&#34;http://www.brainbaking.com/tags/teaching-yourself-to-draw/&#34;&gt;Teaching yourself to draw&lt;/a&gt;&amp;rsquo; tag&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Are you familiar with the frustrated feeling you get while visting an art supply store and staring at all the equipment but having no idea what does what? That&amp;rsquo;s me. So, I figured&amp;hellip;&lt;/p&gt;

&lt;h3 id=&#34;start-with-the-beginning&#34;&gt;Start with the beginning.&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;http://snow-and-rose.com/nl/workshop/&#34;&gt;Snow&amp;amp;Rose workshop: Illustrative techniques&lt;/a&gt; was my entrypoint. It&amp;rsquo;s a 10-week (once a week) workshop to cover the basics of drawing illustrative creatures, flowers, landscape, anything. No realistic drawing, no up-front knowledge required and each week it covers another medium:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;charcoal and pencil&lt;/li&gt;
&lt;li&gt;bistre, reedpen&lt;/li&gt;
&lt;li&gt;pastel&lt;/li&gt;
&lt;li&gt;aquarel&lt;/li&gt;
&lt;li&gt;acrylic paint&lt;/li&gt;
&lt;li&gt;aquarellable colorpencils&lt;/li&gt;
&lt;li&gt;ecoline&lt;/li&gt;
&lt;li&gt;ink with fineliners&lt;/li&gt;
&lt;li&gt;collage/scrapbooking&lt;/li&gt;
&lt;li&gt;mixed media&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Price is 390 EUR. As it&amp;rsquo;s only once a week, it creates the perfect opportunity for me to practice drawing &amp;ldquo;stuff&amp;rdquo; between the lessons and to experiment a bit with the different mediums.&lt;/p&gt;

&lt;p&gt;These are some christmas-themed cards I made with cheap pastels during the third lesson:&lt;/p&gt;

&lt;p&gt;&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749442493529/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749442493506/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;

&lt;a data-pin-do=&#34;embedPin&#34; href=&#34;https://www.pinterest.com/pin/308707749442493510/&#34; target=&#34;_blank&#34; title=&#34;Pinterest pin&#34;&gt;&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;It starts out very simple, as you can see. I&amp;rsquo;m still having difficulties buying the right equipment. The pastels used above are very hard and grainy, and don&amp;rsquo;t contain a lot of pigment. That is clearly visible in the gameboy one on the far left: the brown paper shouldn&amp;rsquo;t be that visible. Small steps, small steps&amp;hellip;&lt;/p&gt;

&lt;h3 id=&#34;but-i-suck-at-drawing&#34;&gt;But I suck at drawing!&lt;/h3&gt;

&lt;p&gt;So do I.&lt;/p&gt;

&lt;p&gt;Each week (this sounds like a promise I&amp;rsquo;ll have to make to myself) I&amp;rsquo;ll post a new blog post summarizing what I&amp;rsquo;ve learned about drawing, art ant painting. Hopefully, after 52 posts, others who are thinking about making the step won&amp;rsquo;t be that intimidated as I am right now. I&amp;rsquo;ve already felt that looking too much at work of others (in Pinterest for example) completely demotivates me. You&amp;rsquo;ll always find someone who completely outperforms you. It&amp;rsquo;s not about their work, it&amp;rsquo;s about your own, and &lt;strong&gt;the progress you make&lt;/strong&gt;, however small that might be. If it&amp;rsquo;s going forward, it&amp;rsquo;s going forward. There is no hardwired limit on where to go to. Let&amp;rsquo;s just keep on trying, failing, getting up and trying again! It looks like 2017 is going to be an interesting year for me.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Unit testing in Legacy Projects: VB6</title>
      <link>http://www.brainbaking.com/post/vb6-unit-testing/</link>
      <pubDate>Tue, 27 Dec 2016 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/post/vb6-unit-testing/</guid>
      <description>&lt;p&gt;Thanks to the &lt;a href=&#34;https://ihadthisideaonce.com/2015/05/13/postmodern-vb6-a-quick-start-with-simplyvbunit/&#34;&gt;Postmodern VB6&lt;/a&gt; article I&amp;rsquo;ve found on the internetz, I decided to give &lt;a href=&#34;simplyvbunit.sourceforge.net&#34;&gt;SimplyVBUnit&lt;/a&gt; a try. My job requires sporadic visual basic 6 code changes in the big legacy project we&amp;rsquo;re converting to C#. It&amp;rsquo;s an administrative system bound to Belgium laws so as you can imagine they change every few months and the old software still has to be complaint to those crazy new rules. As a result, we sometimes dabble in VB6 code. It feels more like drowning, really.&lt;/p&gt;

&lt;p&gt;Unit testing is what keeps me from rage-quitting on every project. The SimplyVBUnit syntax is quite nice if you&amp;rsquo;re used to writing NUnit tests: they also work with &lt;code&gt;Assert.That&lt;/code&gt; for instance:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vb&#34;&gt;Public Sub MyTestMethod_WithSomeArg_ShouldReturn45
  Dim isType As Boolean
  isType = MyTestMethod(arg1)

  Assert.That isType, Iz.EqualTo(45)
End Sub
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;http://www.brainbaking.com/img/simplyvbunit.png&#34; alt=&#34;simply vb unit screenshot&#34; /&gt;&lt;/p&gt;

&lt;p&gt;The test code is very readable thanks to the &lt;a href=&#34;https://nunit.org/index.php?p=documentation&#34;&gt;NUnit&lt;/a&gt; influence on SimplyVBUnit. The package is very easy to install, but there are a few gotcha&amp;rsquo;s.
You need to create a separate VBP file (Visual Basic Project) which acts as your UnitTest project with a reference to the SimplyVBUnit package. That&amp;rsquo;s easy enough, but it&amp;rsquo;s a project. That means it can&amp;rsquo;t reference other projects! Our software is basically one large project with heaps of muddy code. Compiling the EXE and referencing that one is not an option for us. That leaves us with a few alternatives:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Package the test runner and the dependency in your production code. (Hmmm&amp;hellip;)&lt;/li&gt;
&lt;li&gt;Create a DLL project and move the test code to the DLL. This requires another build step in our already-too-long-manual-deployment procedure. Nope.&lt;/li&gt;
&lt;li&gt;Create a group (vbg), include both projects, and include modules/forms/class modules to be tested in the unit test project as an existing file. This means both projects will include the same source files. SourceSafe actually notices this if you have a file checked out and will ask you to update the &amp;ldquo;other&amp;rdquo; file in the second project.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The group makes it possible to open everything at once. Unit tests live in a subfolder. This is our vbg file:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;VBGROUP 5.0
Project=program.vbp
StartupProject=UnitTests\UnitTests.vbp
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Utilizing two projects in one group means switching between both as a startup project. One could use the group to develop and start tests but the vbps for debugging or so. It&amp;rsquo;s all still fairly new for us so we&amp;rsquo;ll see where this will end.
Unit tests are useless if they aren&amp;rsquo;t run (automatically). At this moment we try to avoid coding anything in VB6 at all. If we do, we run the tests manually. At least some parts of the code are tested without bootstrapping the whole application and plowing through various forms to get to the part where you actually changed something&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>mssql</title>
      <link>http://www.brainbaking.com/wiki/code/db/mssql/</link>
      <pubDate>Tue, 24 May 2016 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/wiki/code/db/mssql/</guid>
      <description>

&lt;h1 id=&#34;mssql&#34;&gt;MSSQL&lt;/h1&gt;

&lt;h3 id=&#34;clustered-indexen-aanpassen-door-ze-eerst-te-resolven-in-een-cursor&#34;&gt;clustered indexen aanpassen door ze eerst te resolven in een cursor&lt;/h3&gt;

&lt;p&gt;Onderstaand stukje code for future reference&amp;hellip;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;DECLARE @constraint NVARCHAR(MAX)
DECLARE @cmd NVARCHAR(MAX)
DECLARE @table NVARCHAR(MAX)

DECLARE FKCURSOR CURSOR FOR 
select distinct name,object_name(parent_object_id) from sys.objects where object_id in 
(   select fk.constraint_object_id from sys.foreign_key_columns as fk
    where fk.referenced_object_id = 
    	(select object_id from sys.tables where name = &#39;Reference&#39;)
)

OPEN FKCURSOR

FETCH NEXT FROM FKCURSOR 
INTO @constraint, @table

WHILE @@FETCH_STATUS = 0
BEGIN

	SET @cmd = N&#39;ALTER TABLE [dbo].[&#39;+@table+&#39;] DROP CONSTRAINT &#39; +  @constraint
	EXEC sp_executeSQL @cmd;

   FETCH NEXT FROM FKCURSOR 
    INTO @constraint, @table
END 
CLOSE FKCURSOR;
DEALLOCATE FKCURSOR;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;constraints-met-auto-names-verwijderen-als-een-kolom-hierop-depent&#34;&gt;constraints met auto-names verwijderen als een kolom hierop depent&lt;/h3&gt;

&lt;p&gt;Gebruik information schemes om de data hier uit te halen.&lt;/p&gt;

&lt;p&gt;Bvb onderstaande code verwijdert de kolom &amp;lsquo;isDefault&amp;rsquo;, nadat alle constraints hierrond verwijderd zijn.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;declare @cname varchar(100)
declare @query nvarchar(max)
set @cname = (

SELECT
    default_constraints.name
FROM 
    sys.all_columns

        INNER JOIN
    sys.tables
        ON all_columns.object_id = tables.object_id

        INNER JOIN 
    sys.schemas
        ON tables.schema_id = schemas.schema_id

        INNER JOIN
    sys.default_constraints
        ON all_columns.default_object_id = default_constraints.object_id

WHERE 
        schemas.name = &#39;dbo&#39;
    AND tables.name = &#39;tblhtmltemplate&#39;
    AND all_columns.name = &#39;isdefault&#39;)

	set @query = &#39;alter table tblhtmltemplate drop constraint &#39; + @cname 

if @cname is not null begin
	exec sp_executesql @query
end

IF  EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE table_name######&#39;tblHtmlTemplate&#39; AND column_name &#39;isDefault&#39;)
BEGIN
	alter table tblhtmltemplate drop column isdefault;
END;

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;functies-aanmaken-om-mysql-syntax-te-mimicken&#34;&gt;functies aanmaken om MySQL syntax te mimicken&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION ifnull 
(
	-- Add the parameters for the function here
	@value1 datetime, @returnvalue int
)
RETURNS datetime
AS
BEGIN
	return isnull(@value1, @returnvalue)

END
GO
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zou &lt;code&gt;IFNull&lt;/code&gt; moeten mimicken, maar je kan enkel &lt;code&gt;select dbo.ifnull()&lt;/code&gt; doen ipv de native syntax&amp;hellip;&lt;/p&gt;

&lt;h3 id=&#34;waar-zijn-de-db-files-op-de-schijf-ergens-geplaatst&#34;&gt;Waar zijn de DB files op de schijf ergens geplaatst?&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;SELECT name, physical_name AS current_file_location
FROM sys.master_files
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zie ook &lt;a href=&#34;https://msdn.microsoft.com/en-us/library/ms143547.aspx&#34;&gt;MSDN: MSSQL DB file locations&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;alter-databases-gaan-traag&#34;&gt;Alter databases gaan traag&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;uitvoeren met &lt;code&gt;WITH ROLLBACK IMMEDIATE;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;uitvoeren in &lt;code&gt;SINGLE_USER&lt;/code&gt; mode (set op db niveau, dan terug naar &lt;code&gt;MULTI_USER&lt;/code&gt; zetten)&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;query-notifications&#34;&gt;Query notifications&lt;/h3&gt;

&lt;p&gt;Service broker aan zetten: &lt;code&gt;ALTER DATABASE db_name SET ENABLE_BROKER with rollback immediate&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Hoe checken of reeds enabled is? &lt;code&gt;select name, database_id, service_broker_guid from sys.databases where is_broker_enabled = 1;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;❗ service broker GUIDs zijn dezelfde indien DB gekopiëerd is, bijgevolg krijg je deze fout indien je &lt;code&gt;ENABLE_BROKER&lt;/code&gt; tracht uit te voeren op zo&amp;rsquo;n kopie:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cannot be enabled because there is already an enabled Service Broker with the same ID
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Fix: (&lt;a href=&#34;http://www.mssqltips.com/sqlservertip/2789/sql-server-service-broker-error-database-cannot-be-enabled/&#34;&gt;bron&lt;/a&gt;) maak een nieuwe broker GUID aan met &lt;code&gt;SET NEW_BROKER&lt;/code&gt;.&lt;/p&gt;

&lt;h5 id=&#34;in-combinatie-met-nhibernate-syscache2&#34;&gt;In combinatie met NHibernate Syscache2&lt;/h5&gt;

&lt;p&gt;Zie&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http:*developer.empinia.org/svn/empinia/vendor/bin/nhibernate/trunk/Doc/html/caches.html&#34;&gt;http:*developer.empinia.org/svn/empinia/vendor/bin/nhibernate/trunk/Doc/html/caches.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http:*tamingcode.com/2013/07/01/cacheable-queries-pitfalls/&#34;&gt;http:*tamingcode.com/2013/07/01/cacheable-queries-pitfalls/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;hoe-weet-ik-nu-of-notification-works&#34;&gt;Hoe weet ik nu of notification works?&lt;/h4&gt;

&lt;p&gt;We moeten zien of de &lt;strong&gt;Broker:Conversation&lt;/strong&gt; berichten correct op- en afgestuurd worden. Dit kan je best nagaan in SQL Server Profiler:&lt;/p&gt;

&lt;p&gt;&lt;img style=&#39;float: left; width: nolink |px;&#39; src=&#39;http://www.brainbaking.com/img//code/db/sqlprofiling.png&#39;&gt;&lt;/p&gt;

&lt;p&gt;Volgende dingen zouden moeten gebeuren:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;STARTED_OUTBOUND bericht (conversation)&lt;/li&gt;
&lt;li&gt;CONVERSING bericht (conversation) van .Net SqlClient applicationName&lt;/li&gt;
&lt;li&gt;QN:Subscription van .Net SqlClient applicationName&lt;/li&gt;
&lt;li&gt;QN:Dynamics event subclass Clock run om te zien of het event gequeued is.&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&#34;pitfalls-en-errors&#34;&gt;Pitfalls en errors&lt;/h4&gt;

&lt;h5 id=&#34;system-invalidoperationexception-when-using-sqldependency-without-providing-an-options-value-sqldependency-start-must-be-called-prior-to-execution-of-a-command-added-to-the-sqldependency-instance&#34;&gt;System.InvalidOperationException: When using SqlDependency without providing an options value, SqlDependency.Start() must be called prior to execution of a command added to the SqlDependency instance.&lt;/h5&gt;

&lt;p&gt;&lt;a href=&#34;http://richarddingwall.name/2009/10/09/nhibernate-caches-syscache2-dont-forget-to-call-sqldependency-start/&#34;&gt;Bron&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;SqlDependency.Start(conString)&lt;/code&gt; aanroepen vóór de setup van bvb de NHibernate session factory. Dit moet je zelf doen, ook al gebruik je SysCache2 met regions.&lt;/p&gt;

&lt;p&gt;❗ altijd eerst Stop aanroepen!&lt;/p&gt;

&lt;h5 id=&#34;cannot-execute-as-the-database-principal-because-the-principal-dbo-does-not-exist&#34;&gt;Cannot execute as the database principal because the principal &amp;ldquo;dbo&amp;rdquo; does not exist&lt;/h5&gt;

&lt;p&gt;In SQL Server profiler zichtbaar bij broker events - dit komt vanwege te weinig rechten.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;use [DBNAME] EXEC sp_changedbowner &#39;sa&lt;/code&gt;&amp;rsquo; lost dit probleem op (zie profiling)&lt;/p&gt;

&lt;h3 id=&#34;mssql-specifieke-syntax&#34;&gt;MSSQL specifieke syntax&lt;/h3&gt;

&lt;h5 id=&#34;batch-processing&#34;&gt;Batch processing&lt;/h5&gt;

&lt;p&gt;&lt;code&gt;GO&lt;/code&gt;:&lt;/p&gt;

&lt;p&gt;The GO command isn&amp;rsquo;t a Transact-SQL statement, but a special command recognized by several MS utilities including SQL Server Management Studio code editor.&lt;/p&gt;

&lt;p&gt;The GO command is used to group SQL commands into batches which are sent to the server together. The commands included in the batch, that is, the set of commands since the last GO command or the start of the session, must be logically consistent. For example, you can&amp;rsquo;t define a variable in one batch and then use it in another since the scope of the variable is limited to the batch in which it&amp;rsquo;s defined.&lt;/p&gt;

&lt;p&gt;Zie ook &lt;a href=&#34;http:*msdn.microsoft.com/en-us/library/ms188037.aspx&#34;&gt;http:*msdn.microsoft.com/en-us/library/ms188037.aspx&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;❗ Dit is blijkbaar ook wijzigbaar naar een karakterset naar keuze in Management studio options:&lt;/p&gt;

&lt;p&gt;&lt;img style=&#39;float: left; width: nolink |px;&#39; src=&#39;http://www.brainbaking.com/img//code/db/go_option_mssql.png&#39;&gt;&lt;/p&gt;

&lt;h5 id=&#34;rename-columns&#34;&gt;Rename columns&lt;/h5&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;EXEC sp_RENAME &#39;TableName.OldColumnName&#39; , &#39;NewColumnName&#39;, &#39;COLUMN&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;werken-met-datums&#34;&gt;werken met datums&lt;/h5&gt;

&lt;p&gt;&lt;code&gt;GETDATE()&lt;/code&gt; is een now timestamp (in MySQL is dit &lt;code&gt;CURDATE()&lt;/code&gt;. Records selecteren met een bepaalde timestamp (&amp;ldquo;vanaf&amp;rdquo;):&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select * from table where datecolumn &amp;gt;= Convert(datetime, &#39;2014-09-11&#39;);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In Oracle is dit bijvoorbeeld &lt;code&gt;TO_DATE(&#39;26/JAN/2011&#39;,&#39;dd/mon/yyyy&#39;)&lt;/code&gt; in plaats van &lt;code&gt;Convert()&lt;/code&gt; - in MySQL kan dit rechtstreeks in een bepaald formaat: &lt;code&gt;WHERE start_date &amp;gt;&#39;2012-11-18&#39;;&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;monitoring&#34;&gt;Monitoring&lt;/h3&gt;

&lt;h5 id=&#34;ado-net-connection-pool-monitoring&#34;&gt;ADO .NET Connection pool monitoring&lt;/h5&gt;

&lt;p&gt;Mogelijk met &lt;strong&gt;Performance monitor&lt;/strong&gt; in Win32 (Run -&amp;gt; &lt;code&gt;perfmon&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Step-by-step uitleg: (oude versie) &lt;a href=&#34;http://www.c-sharpcorner.com/uploadfile/CMouli/monitoring-database-connections-using-performance-counters/&#34;&gt;Monitoring DB connections using performance counters&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://msdn.microsoft.com/en-us/library/ms254503.aspx&#34;&gt;Mogelijke counters - MSDN&lt;/a&gt;:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;NumberOfActiveConnections&lt;/li&gt;
&lt;li&gt;NumberOfFreeConnections&lt;/li&gt;
&lt;li&gt;NumberOfPooledConnections&lt;/li&gt;
&lt;li&gt;&amp;hellip;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img style=&#39;float: left;&#39; src=&#39;http://www.brainbaking.com/img//code/db/addcounters.png |&#39;&gt;&lt;/p&gt;

&lt;p&gt;Alles ivm DB connecties in .NET is ook mogelijk te bekijken met de &lt;a href=&#34;http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/&#34;&gt;ANTS Performance profiler&lt;/a&gt;.&lt;/p&gt;

&lt;h5 id=&#34;aantal-momenteel-actieve-threads-bezien&#34;&gt;Aantal momenteel actieve threads bezien&lt;/h5&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;SELECT 
    DB_NAME(dbid) as DBName, 
    COUNT(dbid) as NumberOfConnections,
    loginame as LoginName
FROM
    sys.sysprocesses
WHERE 
    dbid &amp;gt; 0
GROUP BY 
    dbid, loginame
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Migrating from Extjs to React gradually</title>
      <link>http://www.brainbaking.com/post/react-in-extjs/</link>
      <pubDate>Tue, 26 Jan 2016 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/post/react-in-extjs/</guid>
      <description>&lt;p&gt;We were looking for a few alternatives to our big ExtJS 4 application. Since it&amp;rsquo;s not that easy to completely migrate from one front-end framework to the next, a possible solution would be to start developing new parts in another framework. There&amp;rsquo;s a lot of domain logic spread in Ext views and controllers - which shouldn&amp;rsquo;t be there, we are well aware of that. Let&amp;rsquo;s call it &amp;ldquo;legacy&amp;rdquo; :-)&lt;/p&gt;

&lt;p&gt;The application right now uses Extjs as UI and C# as backend, and lets ext do the loading of the views/controllers (living in app.js like most ext applications). There&amp;rsquo;s no ecosystem set up like modern javascript applications - build systems like Grunt, Gulp, node package managers, Browserify, &amp;hellip; are all not used. We do use sencha command to minify stuff. To be able to develop new modules without having to worry about extjs, one of the possibilities would be to use iframes. That enables us to (scenario) test the module using it&amp;rsquo;s own routing. It&amp;rsquo;s wrapped inside an Extjs view with an iframe:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    Ext.define(&#39;App.view.utilities.desktop.ReactWindow&#39;, {
        extend: &#39;Ext.form.Panel&#39;,
        alias: &#39;widget.App_view_utilities_desktop_ReactWindow&#39;,

        bodyPadding: 5,
        width: 600,

        layout: {
            type: &#39;vbox&#39;,
            align: &#39;stretch&#39;
        },

        initComponent: function() {
            var me = this;

            var dynamicPanel = new Ext.Component({
                autoEl: {
                    tag: &#39;iframe&#39;,
                    style: &#39;border: none&#39;,
                    src: me.url
                },
                flex: 1
            });

            Ext.apply(me, {
                title: &#39;React&#39;,
                defaults: {
                    labelWidth: 120
                },
                items: [dynamicPanel]
            });
            me.callParent();
        }
    });
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;When the module is triggered in the main app, we simply add the panel to the desktop:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    this.addPanel(Ext.create(&#39;App.view.utilities.desktop.ReactWindow&#39;, {
        url: &#39;react/mod/someurl/&#39;
    }));
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Our app structure in the GUI folder would be something like this:&lt;/p&gt;

&lt;p&gt;[GUI]&lt;br/&gt;
* global.asax&lt;br/&gt;
* default.aspx&lt;br/&gt;
**** [app] -&amp;gt; extjs&lt;br/&gt;
**** [react] -&amp;gt; reactjs&lt;br/&gt;&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s simple enough. But how would one be able to open new Ext panels from within the React sub-application? That would be done via custom events thrown to the parent window. Catching these is just a matter of adding this to some controller in Extjs:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    window.addEventListener(&#39;react&#39;, function(e) {
        me.onReactEvent(e.detail, e);
    });
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The &lt;code&gt;detail&lt;/code&gt; property is part of a custom event, thrown in a react component. This below might be some cell component, taken from the &lt;a href=&#34;https://facebook.github.io/fixed-data-table/&#34;&gt;fixed-data-table&lt;/a&gt; example:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;class MyLinkCell extends React.Component {
    clicked(e) {
        const el = e.target;
        const eventObj = {
            &#39;detail&#39;: {
                &#39;type&#39;: &#39;downloadlink&#39;,
                &#39;url&#39;: &#39;react/some/detail/url&#39; 
            }
        };

        console.log(&#39;clicked - &amp;quot;react&amp;quot; event thrown:&#39;);
        console.dir(eventObj);
        if(window.parent) {
            window.parent.dispatchEvent(new CustomEvent(&#39;react&#39;, eventObj));
        }
    }

  render() {
    const {rowIndex, field, data} = this.props;
    const link = data[rowIndex][field];
    return (
      &amp;lt;Cell&amp;gt;
        &amp;lt;a onClick={this.clicked} href=&#39;#&#39;&amp;gt;{link}&amp;lt;/a&amp;gt;
      &amp;lt;/Cell&amp;gt;
    );
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Of course this is more or less the same when for instance using Angular2 instead of React, the custom event is part of the JS standard, see &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events&#34;&gt;Creating and triggering events&lt;/a&gt; from MDN.&lt;/p&gt;

&lt;p&gt;To be able to use source maps in conjunction with Browserify/Watchify, I had to tweak some parameters in package.json:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;`watchify index.js --verbose -d -t babelify --sourceMapRelative . --outfile=bundle.js`
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Things we still need to research:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;How well does React compare to Angular2 in terms of components? For instance react doesn&amp;rsquo;t include &lt;a href=&#34;http://www.kriasoft.com/react-routing/&#34;&gt;routing&lt;/a&gt; by default. We&amp;rsquo;ll need to rewrite some already-extjs-custom components in the target framework.&lt;/li&gt;
&lt;li&gt;How should we include the build ecosystem (npm, gulp/grunt/browserify, &amp;hellip;) into our C# build solution and Teamcity build? Will &lt;a href=&#34;http://reactjs.net/&#34;&gt;http://reactjs.net/&lt;/a&gt; help for instance?&lt;/li&gt;
&lt;li&gt;Can we use &lt;a href=&#34;http://reactjs.net/&#34;&gt;http://reactjs.net/&lt;/a&gt; to render serverside components?&lt;/li&gt;
&lt;li&gt;Which build tool should we use? We&amp;rsquo;re being overwhelmed by choice: bower/npm as package manager, I&amp;rsquo;ve seen stuff like &lt;a href=&#34;http://www.christianalfoni.com/articles/2015_10_01_Taking-the-next-step-with-react-and-webpack&#34;&gt;Webpack in conjunction with React&lt;/a&gt;, &amp;hellip; The list is huge if you&amp;rsquo;ve not kept up with the JS technology news.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;One of the things we liked a lot was typescript or ES6 and the ability to use &lt;code&gt;=&amp;gt; ()&lt;/code&gt; and promises. Enabling this requires a transpiler or a polyfill like &lt;a href=&#34;https://babeljs.io/&#34;&gt;Babel JS&lt;/a&gt;, but maybe this as a build step in sencha command will also ease some pain we&amp;rsquo;re having with the current Ext code.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>resources</title>
      <link>http://www.brainbaking.com/wiki/code/csharp/resources/</link>
      <pubDate>Fri, 09 Oct 2015 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/wiki/code/csharp/resources/</guid>
      <description>

&lt;h1 id=&#34;c-resources&#34;&gt;C# Resources&lt;/h1&gt;

&lt;h2 id=&#34;in-tests&#34;&gt;In Tests&lt;/h2&gt;

&lt;p&gt;Zie &lt;a href=&#34;http://www.brainbaking.com/wiki/code/csharp/testing/&#34;&gt;code/csharp/testing&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;web-config&#34;&gt;Web config&lt;/h2&gt;

&lt;p&gt;Zie &lt;a href=&#34;http://msdn.microsoft.com/en-us/library/dd465326(VS.100).aspx&#34;&gt;http://msdn.microsoft.com/en-us/library/dd465326(VS.100).aspx&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;.NET 4&lt;/code&gt; voorziet een manier om de &lt;code&gt;Web.config&lt;/code&gt; file automatisch te &lt;strong&gt;transformeren&lt;/strong&gt; afhankelijk van uw build configuratie (Debug, Release, custom). Je hebt hier 2 files:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Web.config (base)&lt;/li&gt;
&lt;li&gt;Web.[BuildConfigName].config (transformer)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Wat in de tweede file staat, gaat toegepast worden op de eerste file. Je kan dus niet zomaar zaken copypasten en overschrijven, maar moet tags die je wil replacen &lt;strong&gt;XDT&lt;/strong&gt; transformaties op definiëren:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;appSettings&amp;gt;
  &amp;lt;add key######&amp;quot;Bla&amp;quot; value&amp;quot;blie&amp;quot;/&amp;gt;
&amp;lt;/appSettings&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;met transformer&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;appSettings xdt:Transform=&amp;quot;Replace&amp;quot;&amp;gt;
  &amp;lt;add key######&amp;quot;Bla&amp;quot; value&amp;quot;bloebloe&amp;quot;/&amp;gt;
&amp;lt;/appSettings&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zal de hele &lt;code&gt;appSettings&lt;/code&gt; tag vervangen in de base file. Vergeet dat attribuut en er gebeurt niets.&lt;/p&gt;

&lt;h2 id=&#34;embedded-resources-ophalen&#34;&gt;Embedded resources ophalen&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;        private Stream GetIconAsStream(string icon)
        {
            return Assembly.GetExecutingAssembly()
                           .GetManifestResourceStream(
                               &amp;quot;Full.Namespace.Of.Class.dir.to.image&amp;quot; +
                               icon);
        }

        private void CopyIconsToDir(string dir, params string[] iconNames)
        {
            foreach (var icon in iconNames)
            {
                var downloadStream = GetIconAsStream(icon);
                var tmpFileCreate = File.Create(dir + &amp;quot;&amp;lt;br/&amp;gt;&amp;lt;br/&amp;gt;&amp;quot; + icon);
                downloadStream.CopyTo(tmpFileCreate);
                tmpFileCreate.Close();
                downloadStream.Close();
            }
        }
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;csproj-file-inlezen-parsen&#34;&gt;.CSPROJ file inlezen &amp;amp; parsen&lt;/h2&gt;

&lt;p&gt;Waarom is dit handig? Om bijvoorbeeld te kunnen kijken welke files allemaal included zijn in uw project en met een test alle SQL files verplicht te laten embedden. &lt;br/&gt;&lt;br/&gt;
(Op die manier staan ze niet als &amp;ldquo;Content&amp;rdquo; in de XML structuur). Regex op loslaten of XML parsen.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;        private static string ReadProjectFile()
        {
            var dbAssembly = typeof(AbstractUpdater).Assembly;
            * format: &#39;file:*/C:/Sources/project/UnitTestproject/bin/Debug/project.UnitTest.DLL&#39;
            var projectDir = dbAssembly.CodeBase.Substring(0, dbAssembly.CodeBase.IndexOf(&amp;quot;.UnitTest&amp;quot;, StringComparison.InvariantCulture));
            var csprojFile = Directory.GetFiles(projectDir.Replace(&amp;quot;file:///&amp;quot;, &amp;quot;&amp;quot;), &amp;quot;*.csproj&amp;quot;)[0];

            var csproj = File.ReadAllText(csprojFile);
            return csproj;
        }
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;managed-resources-disposen&#34;&gt;Managed resources disposen&lt;/h2&gt;

&lt;p&gt;❗ Zie &lt;a href=&#34;http://msdn.microsoft.com/en-us/library/b1yfkh5e(v=vs.110).aspx&#34;&gt;Dispose Pattern @ MSDN&lt;/a&gt;; volgende template:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;public class DisposableResourceHolder : IDisposable {
 
    private SafeHandle resource; // handle to a resource

    public DisposableResourceHolder(){
        this.resource = ... // allocates the resource
    }

    public void Dispose(){
        Dispose(true);
        GC.SuppressFinalize(this); // tell the GC disposing it isn&#39;t needed anymore
    }

    protected virtual void Dispose(bool disposing){
        if (disposing){
            if (resource!= null) resource.Dispose();
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;using&#34;&gt;using()&lt;/h4&gt;

&lt;p&gt;De .NET CLR vertaalt&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;using (MyResource myRes = new MyResource())
{
    myRes.DoSomething();
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;naar&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;{ // limits scope of myRes
    MyResource myRes= new MyResource();
    try
    {
        myRes.DoSomething();
    }
    finally
    {
        // Check for a null resource.
        if (myRes!= null)
            // Call the object&#39;s Dispose method.
            ((IDisposable)myRes).Dispose();
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Moet dan uw object de interface &lt;code&gt;IDisposable&lt;/code&gt; implementeren? Harde cast toch?&lt;/p&gt;

&lt;h4 id=&#34;java-vs-c&#34;&gt;Java VS C#&lt;/h4&gt;

&lt;p&gt;Beiden plaatsten objecten in een finalizer queue maar het uitvoeren hiervan is nooit gegarandeerd (crash process, iets anders dat kan gebeuren, &amp;hellip;). &lt;code&gt;IDisposable&lt;/code&gt; kan gebruikt worden om managed resources op te kuisen, &lt;strong&gt;maar moet manueel aangeroepen worden&lt;/strong&gt; door clients die dit object gebruiken - hier is ook nog niets van gegarandeerd! Behalve in een &lt;code&gt;using(obj) { }&lt;/code&gt; block - hierna wordt &lt;code&gt;Dispose()&lt;/code&gt; aangeroepen, ook als er ondertussen een of andere Exception opgetreden is. In Java 6 en lager moet je dit met &lt;code&gt;try { } finally { }&lt;/code&gt; manueel doen.&lt;/p&gt;

&lt;p&gt;Zie &lt;a href=&#34;http://www.brainbaking.com/wiki/code/java/resources/&#34;&gt;java resources wiki pagina&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>logica</title>
      <link>http://www.brainbaking.com/wiki/theorie/logica/</link>
      <pubDate>Thu, 23 Jul 2015 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/wiki/theorie/logica/</guid>
      <description>

&lt;h1 id=&#34;logica&#34;&gt;Logica&lt;/h1&gt;

&lt;h3 id=&#34;logic-matters-refs&#34;&gt;&amp;ldquo;Logic Matters&amp;rdquo; refs&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.logicmatters.net/igt/godel-without-tears/&#34;&gt;Gödel without Tears&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>sqlite</title>
      <link>http://www.brainbaking.com/wiki/code/db/sqlite/</link>
      <pubDate>Fri, 17 Jul 2015 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/wiki/code/db/sqlite/</guid>
      <description>

&lt;h1 id=&#34;sqlite&#34;&gt;SQLite&lt;/h1&gt;

&lt;h3 id=&#34;ddls-copypasten-van-oracle&#34;&gt;DDLs copypasten van Oracle&lt;/h3&gt;

&lt;p&gt;Bijvoorbeeld de gegenereerde versie (SQL tab) van Oracle SQL Developer overnemen gaat niet zomaar.&lt;/p&gt;

&lt;p&gt;Er zijn enkele verschillen:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;NOT NULL ENABLE&lt;/code&gt; wegdoen. &lt;code&gt;NOT NULL&lt;/code&gt; maakt niets uit aangezien het in-memory is om te testen!&lt;/li&gt;
&lt;li&gt;&lt;code&gt;USING INDEX&lt;/code&gt; blabla na de &lt;code&gt;PRIMARY KEY&lt;/code&gt; statements zijn ook allemaal niet nodig (&lt;code&gt;STORAGE&lt;/code&gt; etc)&lt;/li&gt;
&lt;li&gt;speciale defaults of syscalls zoals &lt;code&gt;sys_guid()&lt;/code&gt; bestaan niet.&lt;/li&gt;
&lt;li&gt;definities van groottes: wegdoen van &lt;code&gt;BYTE&lt;/code&gt;: &lt;code&gt;VARCHAR2(26)&lt;/code&gt; dus.&lt;/li&gt;
&lt;li&gt;opletten met datums: zie onder.&lt;/li&gt;
&lt;li&gt;Namespace mag ook weg bij &lt;code&gt;CREATE TABLE &amp;quot;SPACE&amp;quot;.&amp;quot;NAME&amp;quot; (&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;connection-strings&#34;&gt;Connection strings&lt;/h3&gt;

&lt;p&gt;Zie &lt;a href=&#34;http://www.connectionstrings.com/sqlite/&#34;&gt;http://www.connectionstrings.com/sqlite/&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&#34;file-based&#34;&gt;File based&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;Data Source######c:&amp;lt;br/&amp;gt;mydb.db;Version3;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;in-memory&#34;&gt;In-memory&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;Data Source######:memory:;Version3;New=True;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Conventie &lt;code&gt;Data Source=&lt;/code&gt; notatie gehanteerd door &lt;a href=&#34;http:*www.connectionstrings.com/sqlite/&#34;&gt;http:*www.connectionstrings.com/sqlite/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Andere notatie&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;FullUri######file::memory:?cacheshared
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Notatie gehanteerd door &lt;a href=&#34;https:*www.sqlite.org/inmemorydb.html&#34;&gt;https:*www.sqlite.org/inmemorydb.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Versie en New hoeft blijkbaar niet (?)&lt;/p&gt;

&lt;p&gt;❗ Elke keer als je een connectie opendoet gaat SQLite de inmemory DB state restoren naar default (dus leeg). Als je dus bvb;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;connectie open&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CREATE TABLE;&lt;/code&gt; brol uitvoeren&lt;/li&gt;
&lt;li&gt;connectie sluiten&lt;/li&gt;
&lt;li&gt;roep andere method aan&lt;/li&gt;
&lt;li&gt;connectie open&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SELECT * FROM TABLE;&lt;/code&gt; brol uitvoeren&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;BOEM no such table&amp;hellip;&lt;/p&gt;

&lt;p&gt;Zie ook &lt;a href=&#34;http://stackoverflow.com/questions/17477246/sqlite-in-memory-database-create-table-does-not-work&#34;&gt;SQLite in memory create table does not work&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;❗ Hou dus 1x een connectie open voor unit testen bij een &lt;code&gt;[SetUp]&lt;/code&gt; en geef referenties door.&lt;/p&gt;

&lt;h5 id=&#34;extra-opties-meegeven-via-de-connection-string&#34;&gt;Extra opties meegeven via de connection string&lt;/h5&gt;

&lt;p&gt;Je kan &lt;code&gt;PRAGMA&lt;/code&gt; parameters zoals &lt;a href=&#34;http://www.sqlite.org/pragma.html#pragma_locking_mode&#34;&gt;deze&lt;/a&gt; meegeven.&lt;/p&gt;

&lt;h3 id=&#34;integreren-met-c&#34;&gt;Integreren met C#&lt;/h3&gt;

&lt;h4 id=&#34;db-connectie&#34;&gt;DB Connectie&lt;/h4&gt;

&lt;p&gt;Gebruik &lt;a href=&#34;http://system.data.sqlite.org/index.html/doc/trunk/www/index.wiki&#34;&gt;http://system.data.sqlite.org/index.html/doc/trunk/www/index.wiki&lt;/a&gt; (package &lt;code&gt;System.data.SQLite (x86/x64)&lt;/code&gt;)&lt;/p&gt;

&lt;p&gt;Voor &lt;code&gt;OleDb&lt;/code&gt; C# code, is er voor elke klasse een equivalent in de &lt;code&gt;SQLite&lt;/code&gt; namespace, bijvoorbeeld:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;        private SQLiteConnection SqLiteDbConnection()
        {
            return new SQLiteConnection()
                {
                    ConnectionString ###### &amp;quot;Data Sourcemydb.s3db;&amp;quot;,
                    Flags = SQLiteConnectionFlags.LogAll
                };
        }

        public void SetupDb()
        {
            using (var connection = SqLiteDbConnection())
            {
                connection.Open();
                var transaction = connection.BeginTransaction();
                var sqLiteCommand = new SQLiteCommand()
                    {
                        Connection = (SQLiteConnection) connection,
                        CommandType = CommandType.Text,
                        CommandText = GetSchemaCreateSql()
                    };
                sqLiteCommand.ExecuteNonQuery();
                transaction.Commit();
            }
        }
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;builden-op-x86-x64-systemen&#34;&gt;Builden op x86/x64 systemen&lt;/h4&gt;

&lt;p&gt;Afhankelijk van welke package manager je gebruikt (NuGet bvb.) kan een &lt;code&gt;SQLite.interop.dll&lt;/code&gt; in submapjes &lt;code&gt;x86&lt;/code&gt; en &lt;code&gt;x64&lt;/code&gt; geplaatst worden (Copy always als content). Lokaal werkt dit, maar op de build pc (die bijvoorbeeld enkel 32-bit is) niet, omdat de DLL op dezelfde plaats als de executable verwacht wordt. Hier zijn een paar mogelijke oplossingen voor:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Gebruik enkel de 32bit versie. (er is zo&amp;rsquo;n specifieke package voor)&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Hint&amp;rdquo; de DLL loader om de juiste te gebruiken&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;[System.Runtime.InteropServices.DllImport(&amp;quot;kernel32.dll&amp;quot;, CharSet ###### System.Runtime.InteropServices.CharSet.Unicode, SetLastError  true)]
    [return: System.Runtime.InteropServices.MarshalAs(System.Runtime.InteropServices.UnmanagedType.Bool)]
    static extern bool SetDllDirectory(string lpPathName);
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;    [STAThread]
    static void Main()
    {
        int wsize = IntPtr.Size;
        string libdir ###### (wsize  4)?&amp;quot;x86&amp;quot;:&amp;quot;x64&amp;quot;;
        string appPath = System.IO.Path.GetDirectoryName(Application.ExecutablePath);
        SetDllDirectory(System.IO.Path.Combine(appPath, libdir));
        // ...
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zie ook &lt;a href=&#34;http:*stackoverflow.com/questions/13028069/unable-to-load-dll-sqlite-interop-dll&#34;&gt;http:*stackoverflow.com/questions/13028069/unable-to-load-dll-sqlite-interop-dll&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&#34;net-dates-en-sqlite-dates&#34;&gt;.NET dates en SQLite dates&lt;/h4&gt;

&lt;p&gt;Als je een &lt;code&gt;DATE&lt;/code&gt; kolom hebt, en een SQL zoals gewoon &lt;code&gt;select * from blah;&lt;/code&gt; uitvoert, kan je de volgende fout krijgen:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;String was not recognized as a valid DateTime
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dit komt doordat SQLite dynamisch getypeerd is en voor hem een date hetzelfde als een char is, gebruik daarvoor de &lt;code&gt;date()&lt;/code&gt; functie om zelf te parsen! Beetje vervelend in de queries&amp;hellip;&lt;/p&gt;

&lt;p&gt;Een andere mogelijkheid is &lt;code&gt;DateTimeFormat=Ticks&lt;/code&gt; in de connection string meegeven.&lt;/p&gt;

&lt;h4 id=&#34;creating-integration-tests-using-record-objects&#34;&gt;Creating integration tests, using Record objects&lt;/h4&gt;

&lt;p&gt;Maak objecten die extenden van &lt;code&gt;DatabaseInsertable&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;    public abstract class DatabaseInsertable
    {
        protected abstract string GetTable();

        public override string ToString()
        {
            var fieldDict = FieldDictionary();
            var fields = &amp;quot;(&amp;quot; + string.Join(&amp;quot;,&amp;quot;, fieldDict.Keys) + &amp;quot;)&amp;quot;;
            var values = &amp;quot;(&amp;quot; + string.Join(&amp;quot;,&amp;quot;, fieldDict.Values) + &amp;quot;)&amp;quot;;

            return &amp;quot;insert into &amp;quot; + GetTable() + fields + &amp;quot; values &amp;quot; + values;
        }

        public void Save()
        {
            DbConnection.Instance.CreateCommand(ToString()).ExecuteNonQuery();
        }

        private Dictionary&amp;lt;string, string&amp;gt; FieldDictionary()
        {
            var dictionary = new Dictionary&amp;lt;string, string&amp;gt;();

            foreach (var info in this.GetType().GetFields())
            {
                if (info.GetValue(this) != null)
                {
                    dictionary.Add(info.Name, &amp;quot;&#39;&amp;quot; + info.GetValue(this).ToString() + &amp;quot;&#39;&amp;quot;);
                }
            }

            return dictionary;
        }
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zoals bijvoorbeeld&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;    internal class UnitRecord : DatabaseInsertable
    {
        public string creator;
        public string guid;

        protected override string GetTable()
        {
            return &amp;quot;UNIT&amp;quot;;
        }
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Gebruik:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;new UnitRecord() { creator ###### &amp;quot;bla&amp;quot;; guid  &amp;quot;lala&amp;quot;; }.Save(); // done!
// execute your SUT stuff here
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;DbConnection&lt;/code&gt; gebruikt dan de SQLite versie om een &amp;ldquo;unit&amp;rdquo; record aan te maken in de DB. Merk op dat de properties 100% moeten overeenkomen.&lt;/p&gt;

&lt;p&gt;Het enige speciale wat in &lt;code&gt;IntegrationTestCase&lt;/code&gt; gedefiniëerd is, is de &amp;ldquo;gewone&amp;rdquo; &lt;code&gt;OleDbConnection&lt;/code&gt; vervangen door de SQLite verie:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;    public abstract class IntegrationTestCase
    {
        protected SqLitedbConnection connection;

        [TestInitialize]
        public void CleanDb()
        {
            this.connection = new SqLitedbConnection();
            DbConnection.Instance = connection; // instead of OleDbConnection, lazyloaded singleton getter property. 
        }
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Omdat Ole en SQLite soms andere interfaces hebben moeten we er zelf een anticorruptie laag (de IConnection interface) tussen zetten:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;    using System.Collections.Generic;
    using System.Data;
    using System.Data.Common;

    public interface IdbConnection
    {
        object QueryProcedure(string procedure, IDictionary&amp;lt;string, object&amp;gt; parameters, string outputParameter);

        DbParameter CreateParameter(string field, object value);

        DbCommand CreateCommand(string query);

        DataSet Query(DbCommand command);

        DataSet Query(string query);
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Het verschil is altijd een &lt;code&gt;SQLiteCommand&lt;/code&gt; in plaats van een &lt;code&gt;OleDbCommand&lt;/code&gt; aanmaken. Er zijn soms ook subtiele verschillen in het aanmaken en doorgeven van de parameters.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>linqtosql</title>
      <link>http://www.brainbaking.com/wiki/code/csharp/linqtosql/</link>
      <pubDate>Tue, 14 Jul 2015 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/wiki/code/csharp/linqtosql/</guid>
      <description>

&lt;h1 id=&#34;code-csharp-linqtosql&#34;&gt;code:csharp &amp;gt;&amp;gt; Linqtosql&lt;/h1&gt;

&lt;p&gt;Zie ook &lt;a href=&#34;https://msdn.microsoft.com/en-us/library/bb425822.aspx&#34;&gt;MSDN LinqToSql pagina&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;basic&#34;&gt;Basic&lt;/h2&gt;

&lt;p&gt;Principe is een &lt;strong&gt;DataContext&lt;/strong&gt; object aanmaken waar je je connectionstring aan meegeeft (&lt;code&gt;Log&lt;/code&gt; kan naar &lt;code&gt;Console.Out&lt;/code&gt; ofzo). Vanaf dan via het context object werken:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;context.GetTable&amp;lt;T&amp;gt;().Where(t ######&amp;gt; t.Property  x).ToList()&lt;/code&gt; om te queryen&lt;/li&gt;
&lt;li&gt;bij deleten of wijzigen: &lt;code&gt;.Attach(entity)&lt;/code&gt; en &lt;code&gt;.DeleteOnSubmit(entity)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Modellen: annoteren met &lt;code&gt;[Table(Name######&amp;quot;tabelnaam&amp;quot;)]&lt;/code&gt;, kolommen met &lt;code&gt;[Column(Name&amp;quot;kolomnaam&amp;quot;, IsPrimaryKey ###### true, IsDbGenerated  true)]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Wijzigingen doorvoeren met &lt;code&gt;SubmitChanges()&lt;/code&gt; door simpelweg properties van modellen te wijzigen, zoals een &amp;ldquo;echte&amp;rdquo; ER tool.&lt;/p&gt;

&lt;h2 id=&#34;advanced&#34;&gt;Advanced&lt;/h2&gt;

&lt;h4 id=&#34;manytoone-relaties-en-domain-driven-design&#34;&gt;ManyToOne relaties en domain driven design&lt;/h4&gt;

&lt;p&gt;In het model: &lt;code&gt;[Association(ThisKey ###### &amp;quot;ReferenceId&amp;quot;, IsForeignKey  true)]&lt;/code&gt; attribuut toevoegen.&lt;/p&gt;

&lt;p&gt;Als je een Fetch wil doen en associaties ook wenst op te halen moet je dit &lt;strong&gt;altijd meegeven&lt;/strong&gt;: &lt;code&gt;new DataLoadOptions().LoadWith&amp;lt;T&amp;gt;(t =&amp;gt; t.AssociationProperty)&lt;/code&gt;. Ook deze loadoptions meegeven aan de context.&lt;/p&gt;

&lt;p&gt;Indien dit overgeslagen wordt, zal bij een ToList in LINQ die property niet opgehaald worden. Dit is vervelend om elke keer mee te geven - kan ook generiek, bijvoorbeeld zo:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;        private static void AddLoadOptions&amp;lt;T&amp;gt;(DataContext context) where T : class, new()
        {
            if (IsAssociation&amp;lt;T&amp;gt;())
            {
                var loadOps = new DataLoadOptions();
                ((IAssociationModel)new T()).AssociationsToLoad(loadOps);
                context.LoadOptions = loadOps;
            }
        }

        private static bool IsAssociation&amp;lt;T&amp;gt;() where T : class, new()
        {
            return typeof(IAssociationModel).IsAssignableFrom(typeof(T));
        }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;AddLoadOptions&lt;/code&gt; altijd aanroepen wanneer een fetch in een repository zou gebeuren. Dit zit er op de interface:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;    public interface IAssociationModel
    {
        IList&amp;lt;object&amp;gt; AssocationsToAttach();

        void AssociationsToLoad(DataLoadOptions loadOps);
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zo kan iedere entiteit zijn eigen &lt;code&gt;LoadWith&lt;/code&gt; oproepen.&lt;/p&gt;

&lt;h4 id=&#34;transacties&#34;&gt;Transacties&lt;/h4&gt;

&lt;p&gt;Gebruik &lt;code&gt;TransactionScope&lt;/code&gt; object, aanmaken voor je iets doet en &lt;code&gt;.Complete()&lt;/code&gt; of &lt;code&gt;.Dispose()&lt;/code&gt; oproepen. &lt;br/&gt;&lt;br/&gt;
Om dit niet de helel tidj zelf te moeten beheren, complexiteit opbergen in een basis Repository klasse, zoiets:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;            using (var repo = Repository.Instance.Transactional())
            {
               Fetch(); // ...
               Delete(); 
               // ...
            }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;om dan in de &lt;code&gt;Dispose()&lt;/code&gt; de transactie te completen. De transactionele method maakt een scope aan.&lt;/p&gt;

&lt;h2 id=&#34;compleet-voorbeeld-repository&#34;&gt;Compleet voorbeeld repository&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-chsarp&#34;&gt;    public class Repository : IRepository
    {
        private readonly string _ConnectionString;

        private DataContext _CurrentContext;
        private TransactionScope _TransactionScope;

        public Repository(string connectionString)
        {
            _ConnectionString = connectionString;
        }

        private Repository(Repository baseRepo)
            : this(baseRepo._ConnectionString)
        {
            _CurrentContext = CreateContext();
            _TransactionScope = new TransactionScope();
        }

        public static IRepository Instance { get; set; }

        private bool InTransaction
        {
            get { return _TransactionScope != null; }
        }

        public void Add&amp;lt;T&amp;gt;(T entity) where T : class, new()
        {
            InContext(context =&amp;gt;
            {
                var table = context.GetTable&amp;lt;T&amp;gt;();

                if (IsAssociation&amp;lt;T&amp;gt;())
                {
                    foreach (var toAttach in ((IAssociationModel)entity).AssocationsToAttach())
                    {
                        context.GetTable(toAttach.GetType()).Attach(toAttach);
                    }
                }
                table.InsertOnSubmit(entity);
            });
        }

        public void Add&amp;lt;T&amp;gt;(IEnumerable&amp;lt;T&amp;gt; entities) where T : class
        {
            InContext(context =&amp;gt; context.GetTable&amp;lt;T&amp;gt;().InsertAllOnSubmit(entities));
        }

        public void CommitChanges&amp;lt;T&amp;gt;(T entity) where T : class
        {
            InContext(context =&amp;gt;
            {
                var entityTable = context.GetTable&amp;lt;T&amp;gt;();
                if (!InTransaction)
                {
                    entityTable.Attach(entity);
                }
                context.Refresh(RefreshMode.KeepCurrentValues, entity);
            });
        }

        public int Count&amp;lt;T&amp;gt;(ICanModifyIQueryable&amp;lt;T&amp;gt; queryModifier) where T : class, new()
        {
            return InContext(context =&amp;gt;
            {
                AddLoadOptions&amp;lt;T&amp;gt;(context);

                IQueryable&amp;lt;T&amp;gt; list = context.GetTable&amp;lt;T&amp;gt;();

                list = queryModifier.ModifyForCount(list);

                return list.Count();
            });
        }

        public void Delete&amp;lt;T&amp;gt;(T entity) where T : class
        {
            InContext(context =&amp;gt;
            {
                var entityTable = context.GetTable&amp;lt;T&amp;gt;();
                if (!InTransaction)
                {
                    entityTable.Attach(entity);
                }
                entityTable.DeleteOnSubmit(entity);
            });
        }

        public void Dispose()
        {
            CompleteTransaction();
        }

        public List&amp;lt;T&amp;gt; Fetch&amp;lt;T&amp;gt;() where T : class, new()
        {
            return InContext(context =&amp;gt;
            {
                AddLoadOptions&amp;lt;T&amp;gt;(context);
                return context.GetTable&amp;lt;T&amp;gt;().ToList();
            });
        }

        public List&amp;lt;T&amp;gt; FetchBy&amp;lt;T&amp;gt;(Expression&amp;lt;Func&amp;lt;T, bool&amp;gt;&amp;gt; whereClause) where T : class, new()
        {
            return InContext(context =&amp;gt;
            {
                AddLoadOptions&amp;lt;T&amp;gt;(context);

                return context.GetTable&amp;lt;T&amp;gt;()
                    .Where(whereClause)
                    .ToList();
            });
        }

        public List&amp;lt;T&amp;gt; FetchBy&amp;lt;T&amp;gt;(ICanModifyIQueryable&amp;lt;T&amp;gt; queryModifier) where T : class, new()
        {
            return InContext(context =&amp;gt;
            {
                AddLoadOptions&amp;lt;T&amp;gt;(context);

                IQueryable&amp;lt;T&amp;gt; list = context.GetTable&amp;lt;T&amp;gt;();

                list = queryModifier.Modify(list);

                return list.ToList();
            });
        }

        public IRepository Transactional()
        {
            return new Repository(this);
        }

        private static void AddLoadOptions&amp;lt;T&amp;gt;(DataContext context) where T : class, new()
        {
            if (IsAssociation&amp;lt;T&amp;gt;())
            {
                var loadOps = new DataLoadOptions();
                ((IAssociationModel)new T()).AssociationsToLoad(loadOps);
                context.LoadOptions = loadOps;
            }
        }

        private static bool IsAssociation&amp;lt;T&amp;gt;() where T : class, new()
        {
            return typeof(IAssociationModel).IsAssignableFrom(typeof(T));
        }

        private void CompleteTransaction()
        {
            if (_CurrentContext ###### null || !InTransaction)
            {
                return;
            }

            try
            {
                _CurrentContext.SubmitChanges();
                _TransactionScope.Complete();
            }
            finally
            {
                _TransactionScope.Dispose();
                _CurrentContext.Dispose();

                _TransactionScope = null;
                _CurrentContext = null;
            }
        }

        private DataContext CreateContext()
        {
            return new DataContext(_ConnectionString) { Log = Console.Out };
        }

        private void InContext(Action&amp;lt;DataContext&amp;gt; action)
        {
            InContext(context =&amp;gt;
            {
                action(context);
                return true;
            });
        }

        private T InContext&amp;lt;T&amp;gt;(Func&amp;lt;DataContext, T&amp;gt; action)
        {
            var context = _CurrentContext;
            var newContext = false;

            if (context ###### null)
            {
                context = CreateContext();
                newContext = true;
            }

            try
            {
                //      context.Log = Console.Out;
                var value = action(context);
                if (newContext)
                {
                    context.SubmitChanges();
                }
                return value;
            }
            finally
            {
                if (newContext)
                {
                    context.Dispose();
                }
            }
        }
    }
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>security</title>
      <link>http://www.brainbaking.com/wiki/tech/security/</link>
      <pubDate>Tue, 14 Jul 2015 00:00:00 +0000</pubDate>
      <author>wouter.groeneveld@gmail.com (Wouter Groeneveld)</author>
      <guid>http://www.brainbaking.com/wiki/tech/security/</guid>
      <description>

&lt;h1 id=&#34;tech-security&#34;&gt;tech &amp;gt;&amp;gt; Security&lt;/h1&gt;

&lt;h2 id=&#34;openssl&#34;&gt;OpenSSL&lt;/h2&gt;

&lt;h5 id=&#34;conversie-certificaten&#34;&gt;Conversie certificaten&lt;/h5&gt;

&lt;p&gt;PFX naar PEM: &lt;code&gt;openssl pkcs12 -in [.pfx] -out [.pem]&lt;/code&gt;&lt;/p&gt;

&lt;h5 id=&#34;pkcs7-signing-van-bestanden&#34;&gt;PKCS7 signing van bestanden&lt;/h5&gt;

&lt;p&gt;&lt;code&gt;openssl smime -sign -in [tosignfile] -signer [privatekeyfile] -passin [passw] -outform PEM -out [outfile]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Paar dingen om op te letten:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;infile moet in UTF-8 encoded zonder UTF-8 identifier weggeschreven zijn. In C# bvb zo &lt;code&gt;File.WriteAllText(inFile, data, new UTF8Encoding(false));&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;privatekeyfile moet een PEM bestand zijn&lt;/li&gt;
&lt;li&gt;output door openssl bevat begin en eind PKCS7 notaties, plus newlines op het laatste. Als die wegmoeten, replacen!&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Voorbeeld om enkel signed data uit te halen:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;                return signed
                    .Replace(&amp;quot;-----BEGIN PKCS7-----&amp;quot;, &amp;quot;&amp;quot;)
                    .Replace(&amp;quot;-----END PKCS7-----&amp;quot;, &amp;quot;&amp;quot;)
                    .TrimStart(&#39;&amp;lt;br/&amp;gt;r&#39;, &#39;&amp;lt;br/&amp;gt;n&#39;)
                    .TrimEnd(&#39;&amp;lt;br/&amp;gt;r&#39;, &#39;&amp;lt;br/&amp;gt;n&#39;);
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>