<!DOCTYPE html>
<html lang="en-us">
    <head>
        <link rel="stylesheet" href="https://brainbaking.com/css/brainbaking.css">



	<meta name="description" content="Teaching Object-Oriented design using the GBAÂ - C&#43;&#43; and a GBA engine. Let&#39;s learn to create a game!">
	<meta content="Teaching Object-Oriented design using the GBA" property="og:title">
	<meta content="C&#43;&#43; and a GBA engine. Let&#39;s learn to create a game!" property="og:description">



  <meta content="teaching, gba, C&#43;&#43;" name="keywords">


<meta property="og:url" content="https://brainbaking.com/post/teaching-oo-with-gba/" />
<meta property="og:type" content="website" />

  <meta property="og:image" content="https://brainbaking.com//img/gbacarts.jpg" />





  
    <meta property="og:see_also" content="https://brainbaking.com/post/domain-driven-design-in-c/" />
  
    <meta property="og:see_also" content="https://brainbaking.com/post/informatics-education-modules/" />
  
    <meta property="og:see_also" content="https://brainbaking.com/post/reverse-engineering-a-curriculum/" />
  

<meta property="article:published_time" content="2019-04-15 00:00:00 &#43;0000 UTC" />
<meta property="article:modified_time" content="2019-04-15 00:00:00 &#43;0000 UTC" />
<meta property="article:section" content="post" />

  <meta property="article:tag" content="teaching" />

  <meta property="article:tag" content="gba" />

  <meta property="article:tag" content="C&#43;&#43;" />




<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https://brainbaking.com/"
    },
    "articleSection" : "post",
    "name" : "Teaching Object-Oriented design using the GBA",
    
      "headline" : "C&#43;&#43; and a GBA engine. Let&#39;s learn to create a game!",
    
    "description" : "Electrical Engineering students have to work through a programming course in their third year at KU Leuven, a course called &lsquo;Software Design in C/C++&rsquo;. This course is one of the things I inherited from my retired colleague when I started working for the University. As is the case with most programming courses, it&rsquo;s contents was boring as hell.
So, instead of simply making minor adjustments to the syllabus and calling it a day, in the summer of 2018 I decided to throw everything in the begin and start over - hooray, a greenfield project!",
    
      "inLanguage" : "en-US",
    
    
    	"image": "https://brainbaking.com//img/gbacarts.jpg",
    
    "author" : {
    	"@type": "Person",
    	"name": "Wouter Groeneveld"
	  },
    "publisher": {
    	"@type": "Organization",
    	"name": "Brain Baking",
    	"logo": {
    		"@type": "ImageObject",
    		"url": "https://brainbaking.com/img/avatar-icon.png"
    	}
	  },
    "accountablePerson" : "Wouter Groeneveld",
    "copyrightHolder" : "Wouter Groeneveld",
    "copyrightYear" : "2019",
    "datePublished": "2019-04-15 00:00:00 &#43;0000 UTC",
    "dateModified" : "2019-04-15 16:01:57 &#43;0200 CEST",
    "url" : "https://brainbaking.com/post/teaching-oo-with-gba/",
    "wordCount" : "925",
    "keywords" : [ "teaching","gba","C&#43;&#43;","Teaching Object-Oriented design using the GBA", "post" ]
}
</script>



<script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-45748221-1', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Teaching Object-Oriented design using the GBA</title>
        
        <style>

    html body {
        font-family: 'Source Serif Pro', sans-serif;
        background-color: white;
    }

    :root {
    	--accent: purple;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="https://brainbaking.com/css/main.css">





<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source%20Serif%20Pro">


 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/paraiso-dark.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
 


    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

     <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/cs.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/cpp.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/scheme.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/scala.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/llvm.min.js"></script> 

    <script>hljs.initHighlightingOnLoad();</script>







<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
 <meta name="generator" content="Hugo 0.53" />
        
    </head>

    
    
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    

    <body>
         
        <nav class="navbar navbar-default navbar-fixed-top">

            <div class="container">

                <div class="navbar-header">

                    <a class="navbar-brand visible-xs" href="#">Teaching Object-Oriented design using the GBA</a>

                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>

                <div class="collapse navbar-collapse">

                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/post"><i class='fa fa-file-code-o'></i>&nbsp;Tech Blog</a></li>
                            
                                <li><a href="/essays"><i class='fa fa-book'></i>&nbsp;Essays</a></li>
                            
                                <li><a href="/tags"><i class='fa fa-tags'></i>&nbsp;Tags</a></li>
                            
                        </ul>
                    

                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li><a href="/about"><i class='fa fa-user'></i>&nbsp;About Me</a></li>
                            
                                <li><a href="/teaching"><i class='fa fa-graduation-cap'></i>&nbsp;Teaching</a></li>
                            
                        </ul>
                    

                </div>

            </div>

        </nav>



    <div class="jumbotron big-img" style='background-image: url("/img/gbacarts.jpg");'>
        <div class="container">
            &nbsp;
        </div>
    </div>


<main>

    <a name="top"></a>
    <div class="item">

    
    <h3>
        
        <a href="/post/teaching-oo-with-gba/">Teaching Object-Oriented design using the GBA</a>
    </h3>
    

    
    
    
        <h4>C&#43;&#43; and a GBA engine. Let&#39;s learn to create a game!</h4>
        <h5>
        	<span style="color: grey;">
        		<span title="Created Date">
                    <i class='fa fa-calendar'></i>&nbsp;15 April 2019
                </span>&nbsp;|&nbsp;
                <span title="Last Modified Date">
                    <i class='fa fa-calendar-check-o'></i>&nbsp;15 April 2019
                </span>
    		</span>
    	</h5>
    


    
	   <i class='fa fa-tags' style='color: grey;'></i>&nbsp;
    
    
        <a href="https://brainbaking.com/tags/teaching"><kbd class="item-tag">teaching</kbd></a>
    
        <a href="https://brainbaking.com/tags/gba"><kbd class="item-tag">gba</kbd></a>
    
        <a href="https://brainbaking.com/tags/c&#43;&#43;"><kbd class="item-tag">C&#43;&#43;</kbd></a>
    

</div>


    <br> <div class="text-justify"><p>Electrical Engineering students have to work through a programming course in their third year at KU Leuven, a course called &lsquo;<a href="/teaching/cpp/">Software Design in C/C++</a>&rsquo;. This course is one of the things I inherited from my retired colleague when I started working for the University. As is the case with most programming courses, it&rsquo;s contents was <em>boring as hell</em>.</p>

<p>So, instead of simply making minor adjustments to the syllabus and calling it a day, in the summer of 2018 I decided to throw everything in the begin and start over - hooray, a <em>greenfield</em> project! This was one of the rare opportunities for me to do so as most other courses are taught together with others. This one wasn&rsquo;t, I also had to lecture theory and administer exams. coincidentally, also in that very same summer, I re-found my love for the retro Game Boy, and started wondering how to program games for it. My knowledge of C and C++ was limited to a few years of practical use in the industry, working on administrative Windows MFC applications.</p>

<p>I got to work, by scanning documentation, cursing and swearing <em>a lot</em>, and ultimately learning how to create games for the Game Boy Advance. Most if not all GBA games are written in <code>C</code>. As much as I like simple elegance, I did opt for <code>C++</code> instead, because I wanted to bring in object-orientation and unit testing the way I was used to these, like in <code>C#</code> and Java. That also means getting used to the ugliness of C++. Oh well.</p>

<p>At the end of February 2019, all (but one) students finished their project, creating a game (concept) on the GBA, all working on the actual hardware, tested with a EZ-DRIVE cartridge. The result is compiled in the following 6-minute video:</p>


<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="//player.vimeo.com/video/314203871" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
 </div>


<p><br/>
I&rsquo;m actually really proud of what they achieved. Developing something for the GB(A) is notoriously hard if you are not familiar with the architecture. Some examples of &lsquo;challenges&rsquo; (sources of swearing):</p>

<ul>
<li>There is no OS. Nothing is managed. Do it yourself.</li>
<li>Hardware interaction is done through address memory mapping. That means reading and writing byte streams to hard-wired pointers.</li>
<li>Forget debugging.</li>
<li>Graphics is another tough nut to crack, using optimized sprites, a shared palette, and other techniques needed because of the limited (hardware) space.</li>
</ul>

<p>All those things are extras, the main point of the course is to learn object-oriented development, close to the hardware. Most students had difficulties enough with the <code>C++</code> syntax. They did complete another programming course, software design in Java, but that seemed to be long lost and forgotten, as is usually the case with hard working students.</p>

<p>To ease their pain, I created a concept framework in <code>C++</code>, called &lsquo;<a href="https://github.com/wgroeneveld/gba-sprite-engine/"><i class='fa fa-github'></i>&nbsp;gba-sprite-engine</a>&rsquo; (available on GitHub through that link), which students had to fork, compile, and use for their projects. It comes equipped with a few demo projects, and throughout the different labs, we worked our way through the GBA&rsquo;s conceptual hardware model, using the following outlines as a guideline:</p>

<ol>
<li><a href="/teaching/cpp/labo-1">Introduction in C</a></li>
<li><a href="/teaching/cpp/labo-2">Pointers in C and C++</a></li>
<li><a href="/teaching/cpp/labo-3">GBA Programming in C: an introduction</a></li>
<li><a href="/teaching/cpp/labo-4">GBA Programming in C: tilesets, a simple game</a></li>
<li><a href="/teaching/cpp/labo-5">Introduction in C++</a></li>
<li><a href="/teaching/cpp/labo-6">C++ Class Inheritance, operators and templates</a></li>
<li><a href="/teaching/cpp/labo-7">Software design: thinking and testing before coding</a></li>
<li><a href="/teaching/cpp/labo-8">GBA Programming in C++: an abstraction layer</a></li>
<li><a href="/teaching/cpp/labo-9">GBA Programming in C++: scrolling backgrounds</a></li>
</ol>

<p>The syllabus is accessible through the links, although in Dutch.</p>

<p>Especially the live Castlevania demo&rsquo;s were quite appealing to students, showcasing sprite design, different backgrounds, and the palette:</p>

<p><img src="/img/teaching/aria-of-sorrow.gif" style="width: 100%" class="bordered" /></p>

<p>God I love that game. I&rsquo;ll gladly take every opportunity I have to look and/or play it.</p>

<p>The sprite engine does the heavy lifting in terms of image memory allocation and storage, and provides some abstract concepts for sprites/backgrounds/music/scenes. But not before we&rsquo;ve seen these in the labs ourselves (lab 1-4). Take a look at the <a href="https://github.com/wgroeneveld/gba-sprite-engine/"><i class='fa fa-github'></i>&nbsp;GitHub documentation of the engine</a> to get a better picture on the included features. (For the most part) Unit tested and all. It is cross-platform compatible, as the GBA is actually an ARM machine, you&rsquo;ll be needing a cross-compiler from the <a href="https://devkitpro.org/wiki/Getting_Started">DevKitPro toolchain</a>.</p>

<p>The emphasis lies on the <em>object-oriented</em> part of the course title, that is why the design of the game, and game engine, was very important to me. If you are creating a platformer like Mario, and you can jump, grab coins, and squash enemies, then I want to see that reflected in your design. Where is the statement <code>mario.jump()</code>, where are the <code>class Coin</code> and <code>class Goomba : public Enemy</code> definitions? You can extend from the following engine parts:</p>

<p><center>
    <img src="https://github.com/wgroeneveld/gba-sprite-engine/raw/master/img/design.png?raw=true" alt="gba-sprite-engine design" />
</center></p>

<p>After the oral defense of their game, students completed a short survey that helped me assess what to do with the course during the next academic year. Most students were very enthusiastic regarding the inclusion of the GBA, compared to another dull set of assignments. They also responded positively to the question whether the Game Boy could be used in other courses as well, such as hardware architecture design, or (advanced) chip design (using an FPGA).</p>

<p>I&rsquo;m happy they liked it, and although the theoretical exam results were not that promising, the practical projects were. We will be using more or less the same course contents next year. After academic year 2019 - 2020, the course will sadly disappear into two other courses: the C hardware-related part will merge into a more OS-oriented course, and the C++ object-oriented design part will merge into a software engineering-oriented course. Both new courses still need to be planned and implemented.</p>

<p>That means there&rsquo;s still a chance for me to sneak in Castlevania, right?</p>
</div>

    
    

    

        <h4 class="page-header"><i class="fa fa-newspaper-o"></i>&nbsp;Related by Tags</h4>

        <div class="text-justify">
             <div class="item">

    <h4><a href="/post/domain-driven-design-in-c/">Domain Driven Design in C</a></h4>

    
    
    
        Who says imperative languages don&#39;t do DDD? <span style="color: lightgrey;"><i class='fa fa-calendar'></i>&nbsp;3 August 2018</span>
    

</div>
  <div class="item">

    <h4><a href="/post/informatics-education-modules/">Computer Science learning pathways</a></h4>

    
    
    
        Categorizing essential Computer Science knowledge <span style="color: lightgrey;"><i class='fa fa-calendar'></i>&nbsp;29 June 2018</span>
    

</div>
  <div class="item">

    <h4><a href="/post/reverse-engineering-a-curriculum/">Reverse engineering a curriculum</a></h4>

    
    
    
        Can a unified software engineering philosopy shape the right context in a curriculum? <span style="color: lightgrey;"><i class='fa fa-calendar'></i>&nbsp;15 June 2018</span>
    

</div>
 
        </div>

        <hr/>

    

    
    
    <h4 class="page-header"><i class="fa fa-comments-o"></i>&nbsp;
        
            Join the Discussion on 
        
        <a href="https://twitter.com/woutergroenev">Twitter</a>!</h4>

        

    

    <i class='fa fa-arrow-circle-o-up'></i>&nbsp;<a href="#top">Top</a> 

</main>

        <footer>

            <p class="copyright text-muted">No <i class='fa fa-copyright'></i> reserved - sharing is caring. <i class='fa fa-github'></i> <a href='https://github.com/wgroeneveld/brainbaking/'>Hack away</a>! <i class='fa fa-lightbulb-o'></i> <a href='/'>Brain Baking</a></p>

        </footer>
       
    </body>

</html>

